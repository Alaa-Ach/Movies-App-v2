import{g as H,h as N,f as d,b as u,F as L,r as R,i as e,j as x,t as o,e as T,u as F,s as E,o as I,a as v,d as m,k as y,n as P,l as w,m as q,p as G}from"./index-aded4133.js";const K=H("movieStore",()=>{const l="11014907a552719550c04a15023b913d";async function c(p){var s=null;return await N.get(` https://api.themoviedb.org/3/movie/${p}?api_key=${l}&language=en-US`).then(r=>s=r.data).catch(r=>s="error"),s}async function _(p){var s=null;return await N.get(` https://api.themoviedb.org/3/movie/${p}/videos?api_key=${l}&language=en-US`).then(r=>{!r.data.results.length==0&&(s=r.data.results.find(h=>h.official==!0&&h.site=="YouTube").key)}),s!=null?`https://www.youtube.com/watch?v=${s.toString()}`:null}async function n(p){var s=null,r=null;return await N.get(`https://api.themoviedb.org/3/movie/${p}/credits?api_key=${l}&language=en-US`).then(h=>{s=h.data.crew.find(M=>M.job=="Director"),r=h.data.cast}),{Director:s,Casts:r}}async function g(p,s=1){var r=null;return await N.get(`https://api.themoviedb.org/3/movie/${p}/reviews?api_key=${l}&language=en-US&page=${s}`).then(h=>{r=h.data}),r}return{getMovieByid:c,getTrailer:_,getCasts:n,getReviews:g}}),O={class:"flex"},Y=["id"],J=["offset"],Q=["offset"],W=["fill"],X={__name:"starsRating",props:{review:Object},setup(l){function c(_,n){return _>=n?1:0<n-_&&n-_<1?n-_:0}return(_,n)=>(d(),u("div",O,[(d(),u(L,null,R(5,g=>e("svg",{key:g,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-7 w-7 stroke-none"},[e("defs",null,[e("linearGradient",{id:`grad${l.review.id}${g}`},[e("stop",{offset:c(l.review.author_details.rating/2,g),"stop-color":"yellow"},null,8,J),e("stop",{offset:c(l.review.author_details.rating/2,g),"stop-color":"grey"},null,8,Q)],8,Y)]),e("path",{fill:`url(#grad${l.review.id}${g})`,"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"},null,8,W)])),64))]))}},Z={class:""},ee=["innerHTML"],te={__name:"showMoreLess",props:{text:String},setup(l){const c=x(!1);return(_,n)=>(d(),u("div",Z,[e("span",{class:"text-slate-800 overflow-hidden",innerHTML:c.value?l.text:l.text.slice(0,200)},null,8,ee),l.text.length>=200?(d(),u("span",{key:0,class:"cursor-pointer underline",onClick:n[0]||(n[0]=g=>c.value=!c.value)},"show "+o(c.value?" less":" more"),1)):T("",!0)]))}};const se={key:0,class:"grow"},ae={class:"inset-0 relative"},oe={class:""},le=["src"],ne=e("div",{class:"fixed opacity-50 inset-0 bg-slate-800 w-full h-full"},null,-1),ie={class:"absolute top-24 md:top-60 z-2 sm:mx-24 text-white p-5"},re={class:"font-extrabold font-mono text-4xl sm:text-6xl"},ce={class:"sm:flex items-center gap-2"},de={class:"ml-5 flex items-center font-semibold text-lg"},ue={class:"ml-5 sm:flex justify-between gap-3"},ve={class:"flex gap-2 px-2 py-2 font-mono text-lg"},me={class:"font-sans tracking-wide leading-relaxed indent-5 my-3"},_e={class:"py-5 flex gap-5"},ge=["href"],pe={class:"text-xl py-2"},he=e("span",{class:"font-semibold font-mono"},"Directed By : ",-1),fe={class:"text-lg tracking-wide"},we={class:"py-2"},xe=e("span",{class:"font-semibold font-mono text-xl"},"Casts :",-1),be={class:"flex flex-wrap gap-x-5 gap-y-2 py-5 transition-all"},ke=["src"],ye={class:"break-words"},$e={class:"text-sm mx-2 text-center break-words"},Se={class:"py-2"},Ne=e("div",{class:"text-xl font-bold font-mono"},"Reviews :",-1),Me={key:0,class:"grid gap-2 lg:grid-cols-2 md:gap-x-5 lg:gap-x-10 md:gap-y-2 justify-center relative"},je={class:"flex justify-between"},Ce={class:"tracking-wide capitalize flex items-center gap-2 mb-1 sm:mb-2"},Le=["src"],Re={class:"tracking-wide font-mono"},De={class:"self-end text-sm text-slate-600 opacity-80 text-right"},Te={key:1},Ae={key:2},Ve={__name:"showMovie",setup(l){const c=F(),_=K(),{getImage:n,inializebookmarkList:g,bookmarkClicked:p}=c,{bookmarkList:s}=E(c),{getMovieByid:r,getTrailer:h,getCasts:M,getReviews:A}=_,B=q(),i=x(null),$=x(null),b=x(!1),k=x(1);var j=x([]),D=x(null),S=x(null);function V(a){k.value=a}function U(a){return a==null||!a.includes("http")?n(a):a.slice(1)}function z(a){const f=Math.floor(a/60),C=a%60;return`${f}H ${C}M`}return I(async()=>{g();const a=B.params.id;$.value=await h(a),{Casts:j,Director:D}=await M(a),S.value=await A(a),i.value=await r(a)}),(a,f)=>{const C=G("vue-awesome-paginate");return i.value?(d(),u("div",se,[e("div",ae,[e("div",oe,[e("img",{class:"object-cover sm:w-full sm:object-cover feather-edge",src:v(n)(i.value.backdrop_path),alt:"",srcset:""},null,8,le)]),ne,e("div",ie,[e("p",re,o(i.value.original_title),1),e("div",ce,[e("div",de,[m(w,{iconName:"star",class:"stroke-amber-400 border-transparent stroke-2/3 inline-block mr-1"}),y(" "+o(i.value.vote_average),1)]),e("div",ue,[e("div",null,[m(w,{iconName:"time",class:"stroke-amber-400 border-transparent stroke-2/3 inline-block mr-1"}),y(" "+o(z(i.value.runtime)),1)]),e("div",null,[m(w,{iconName:"tag",class:"stroke-amber-400 border-transparent stroke-2/3 inline-block mr-1"}),y(" "+o(i.value.genres.map(t=>t.name).toString()),1)])])]),e("div",ve,[e("div",null,o(i.value.status),1),m(w,{iconName:"vertical-ellipsis"}),e("div",null,[m(w,{iconName:"calendar",class:"stroke-amber-400 fill-amber-400 border-transparent stroke-2/3 inline-block mr-1"}),y(" "+o(i.value.release_date),1)])]),e("p",me,o(i.value.overview),1),e("div",_e,[e("a",{href:$.value,target:"_blank",class:P([[$.value?"bg-yellow-500 hover:bg-yellow-600":" bg-gray-500 cursor-not-allowed"],"py-4 px-4 rounded-full text-sm font-bold uppercase font-mono text-black items-center flex gap-1"])},[m(w,{iconName:"play",class:"inline-block fill-black stroke-none w-5"}),y(" "+o($.value?"watch trailer":"Trailer Not Available"),1)],10,ge),e("button",{onClick:f[0]||(f[0]=t=>v(p)(i.value.id)),class:"hover:bg-slate-200 py-4 px-4 rounded-full text-sm font-bold bg-white uppercase font-mono text-black items-center flex gap-1"},[m(w,{iconName:v(s).includes(i.value.id)?"x-mark":"plus",class:"inline-block fill-black w-5"},null,8,["iconName"]),e("div",null,o(v(s).includes(i.value.id)?"Remove ":"Add ")+" List ",1)])]),e("div",pe,[he,e("span",fe,o(v(D).name),1)]),e("div",we,[xe,e("div",be,[(d(!0),u(L,null,R(b.value?v(j):v(j).slice(0,10),t=>(d(),u("div",{key:t.id,class:"w-20 text-center leading-tight transition-all"},[e("img",{class:"w-20 h-20 rounded-full overflow-hidden object-cover",src:v(n)(t.profile_path,"w200"),alt:"",srcset:""},null,8,ke),e("div",ye,o(t.name),1)]))),128)),e("div",null,[e("div",{onClick:f[1]||(f[1]=t=>b.value=!b.value),class:"h-20 w-20 bg-slate-900 rounded-full cursor-pointer flex flex-col items-center justify-center"},[m(w,{iconName:b.value?"minus":"plus",class:""},null,8,["iconName"]),e("div",$e,o(b.value?"Show Less":"Show All"),1)])])])]),e("div",Se,[Ne,m(C,{"total-items":v(S).total_results,"items-per-page":4,"max-pages-shown":5,modelValue:k.value,"onUpdate:modelValue":f[2]||(f[2]=t=>k.value=t),"on-click":V,"show-jump-buttons":!0},null,8,["total-items","modelValue"]),v(S)!=null?(d(),u("div",Me,[(d(!0),u(L,null,R(v(S).results.slice((k.value-1)*4,k.value*4),t=>(d(),u("div",{class:"select-none shadow-xl shadow-yellow-600/30 text-black my-2 rounded-lg p-3 col-auto relative hover:scale-105 hover:transition-transform bg-[#e29b03]",key:t.id},[e("div",je,[e("div",Ce,[e("img",{class:"w-8 h-8 rounded-full",src:U(t.author_details.avatar_path),alt:"",srcset:""},null,8,Le),e("span",Re,o(t.author),1)]),m(X,{review:t},null,8,["review"])]),m(te,{text:t.content},null,8,["text"]),e("div",De,o(`${new Date(t.updated_at).toDateString()} ${new Date(t.updated_at).getHours()}H:${new Date(t.updated_at).getMinutes()}M`),1)]))),128))])):T("",!0)])])])])):i.value=="error"?(d(),u("div",Te,"Error")):(d(),u("div",Ae,"Loading.."))}}};export{Ve as default};
